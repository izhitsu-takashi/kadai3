<div class="dashboard-container">
  <header class="dashboard-header">
    <div class="header-content">
      <div class="app-name">{{ appName }}</div>
      <div class="header-actions">
        <button class="notification-button" type="button">お知らせ</button>
        <button class="logout-button" type="button">ログアウト</button>
      </div>
    </div>
  </header>
  <div class="dashboard-body">
    <aside class="sidebar">
      <nav class="sidebar-menu">
        <ng-container *ngFor="let item of menuItems">
          <button 
            class="menu-item" 
            [class.active]="selectedMenuId === item.id || (item.id === 'settings' && (isSettingsExpanded || isSettingsSubMenuActive()))"
            type="button"
            [attr.data-id]="item.id"
            (click)="selectMenu(item.id)">
            {{ item.label }}
          </button>
          <!-- 設定のサブメニュー -->
          <div *ngIf="item.id === 'settings' && isSettingsExpanded" class="settings-submenu">
            <button 
              *ngFor="let subMenu of settingsSubMenus" 
              class="submenu-item" 
              [class.active]="isSettingsSubMenuSelected(subMenu.id)"
              type="button"
              (click)="selectSettingsSubMenu(subMenu.id)">
              {{ subMenu.label }}
            </button>
          </div>
        </ng-container>
      </nav>
    </aside>
    <main class="dashboard-content">
      <div *ngIf="selectedMenuId === 'insurance-list'" class="insurance-list-container">
        <div class="month-selector-container">
          <label for="month-select" class="month-select-label">表示月:</label>
          <select 
            id="month-select" 
            class="month-select"
            [value]="selectedMonth"
            (change)="onMonthChange($any($event.target).value)">
            <option *ngFor="let month of availableMonths" [value]="month">
              {{ month }}
            </option>
          </select>
        </div>
        <div class="table-container">
          <div *ngIf="isLoading" class="loading-message">
            <p>データを読み込み中...</p>
          </div>
          <ng-container *ngIf="!isLoading">
          <table *ngIf="employees && employees.length > 0" class="employee-table">
            <thead>
              <tr>
                <th *ngFor="let column of columns" 
                    [class.sortable-header]="column.sortable"
                    [class.non-sortable-header]="!column.sortable"
                    (click)="column.sortable && sortTable(column.key)">
                  <div class="table-header-content">
                    <span>{{ column.label }}</span>
                  </div>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let employee of sortedEmployees">
                <td>{{ getEmployeeId(employee) }}</td>
                <td>{{ getEmployeeName(employee) }}</td>
                <td>{{ getStandardSalary(employee) | number }}</td>
                <td>{{ getGrade(employee) }}</td>
                <td>{{ getHealthInsurance(employee) | number }}</td>
                <td>{{ getWelfarePension(employee) | number }}</td>
                <td>{{ getNursingInsurance(employee) | number }}</td>
                <td>{{ getPersonalBurden(employee) | number }}</td>
                <td>{{ getCompanyBurden(employee) | number }}</td>
              </tr>
            </tbody>
          </table>
          <!-- <div *ngIf="!employees || employees.length === 0" class="no-data-message">
            <p>データがありません</p>
          </div> -->
          </ng-container>
        </div>
      </div>
      <div *ngIf="selectedMenuId === 'company-settings' || selectedMenuId === 'health-insurance-settings' || selectedMenuId === 'employee-settings'" class="settings-page-container">
        <div class="page-message">
          <p>{{ getSettingsSubMenuLabel() }}のページです。</p>
        </div>
      </div>
      <div *ngIf="selectedMenuId !== 'insurance-list' && selectedMenuId !== 'company-settings' && selectedMenuId !== 'health-insurance-settings' && selectedMenuId !== 'employee-settings'" class="page-message">
        <p>{{ getSelectedMenuLabel() }}のページです。</p>
      </div>
    </main>
  </div>
</div>
